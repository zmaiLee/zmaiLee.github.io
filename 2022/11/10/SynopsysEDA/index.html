<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>SynopsysEDA | Mai's blog</title><meta name="author" content="zmaiLee"><meta name="copyright" content="zmaiLee"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Design Compiler for the synthesis, ICC Compiler for the layout PrimeTime for static timing analysis  新思安装指南：http:&#x2F;&#x2F;www.synopsys.com&#x2F;install 新思license快速入门指南： http:&#x2F;&#x2F;www.synopsys.com&#x2F;licensing">
<meta property="og:type" content="article">
<meta property="og:title" content="SynopsysEDA">
<meta property="og:url" content="https://zmailee.github.io/2022/11/10/SynopsysEDA/index.html">
<meta property="og:site_name" content="Mai&#39;s blog">
<meta property="og:description" content="Design Compiler for the synthesis, ICC Compiler for the layout PrimeTime for static timing analysis  新思安装指南：http:&#x2F;&#x2F;www.synopsys.com&#x2F;install 新思license快速入门指南： http:&#x2F;&#x2F;www.synopsys.com&#x2F;licensing">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png">
<meta property="article:published_time" content="2022-11-10T07:20:14.357Z">
<meta property="article:modified_time" content="2022-11-24T14:52:07.605Z">
<meta property="article:author" content="zmaiLee">
<meta property="article:tag" content="EDA">
<meta property="article:tag" content="数字IC">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://zmailee.github.io/2022/11/10/SynopsysEDA/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'SynopsysEDA',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-11-24 22:52:07'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"><link rel="stylesheet" type="text/css" href="/css/injector/main.css" /><link rel="preload" as="style" href="/css/injector/light.css" /><link rel="preload" as="style" href="/css/injector/dark.css" /><link rel="alternate" href="/atom.xml" title="Mai's blog" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">18</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">22</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div><hr/></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="Mai's blog"><span class="site-name">Mai's blog</span></a></span><div id="menus"><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">SynopsysEDA</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-11-10T07:20:14.357Z" title="发表于 2022-11-10 15:20:14">2022-11-10</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-11-24T14:52:07.605Z" title="更新于 2022-11-24 22:52:07">2022-11-24</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%B7%A5%E5%85%B7/">工具</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="SynopsysEDA"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><ul>
<li><p><strong>Design Compiler</strong> for the synthesis,</p></li>
<li><p><strong>ICC Compiler</strong> for the layout</p></li>
<li><p><strong>PrimeTime</strong> for static timing analysis</p></li>
</ul>
<p>新思安装指南：<a
href="https://link.zhihu.com/?target=http%3A//www.synopsys.com/install">http://www.synopsys.com/install</a></p>
<p>新思license快速入门指南： <a
href="https://link.zhihu.com/?target=http%3A//www.synopsys.com/licensing">http://www.synopsys.com/licensing</a></p>
<span id="more"></span>
<h1 id="第一章design-compiler使用">第一章：Design Compiler使用</h1>
<h2 id="综合">1.1综合</h2>
<p>Systhesis = Translation(转换) + G ate M apping(映射) + Logic O ptim
ization(优化)</p>
<ul>
<li>Tranlation：把电路转换为ED A 内部数据</li>
<li>Mapping：将门级网表映射到晶圆厂给定的工艺库上，形成对应的门级网表</li>
<li>Optimization：
根据工作频率、面积、功耗来对电路进行优化，推断出满足要求的门级网表</li>
</ul>
<h2 id="逻辑综合流程">1.2逻辑综合流程</h2>
<p>1.读取库和设计：包括目标库、链接库、符号库等</p>
<p>2.添加时序约束和设计规则约束：包括环境约束、面积约束、时序约束等</p>
<p>3.综合RTL设计：将RTL代码转换为用标准单元表示的门级网表</p>
<p>4.分析结果</p>
<p>5.输出设计数据</p>
<h2 id="标准单元库">1.3标准单元库</h2>
<p>绝大多数的数字设计流程都是基于标准单元的半定制设计流程。标准单元库包含了反相器、缓冲器、NAND门、NOR门、与或非门、锁存器、触发器等逻辑单元综合模型的物理信息。标准单元是完成通用功能的逻辑，具有同等的高度（宽度可以不同），这样方便数字后端的自动布局布线。</p>
<p>Synopsys的工艺库是一个.lib文件，经过<strong>Library
Compiler</strong>软件编译后，产生.db文件。工艺库文件主要包括如下信息:
（1）单元（cell）（的信息）：（主要有）功能、时间（包括时序器件的约束，如建立和保持）、面积（面积的单位不在里面定义，可按照规律理解，一般询问半导体厂商）、功耗、测试等。
（2）<strong>连线负载模型</strong>（wire load
models）：电阻、电容、面积。 （3）工作环境/条件（Operating
conditions）：制程（process）（电压和温度的比例因数k，表示不同的环境之间，各参数缩放的比例）
（4）设计规则约束（Design
）:最大最小电容、最大最小转换时间、最大最小扇出。</p>
<h3 id="verilog与dc对象的对应关系">Verilog与DC对象的对应关系</h3>
<p><img src="SynopsysEDA.assets/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L21lbmcxNTA2Nzg5,size_16,color_FFFFFF,t_70.png" alt="在这里插入图片描述" style="zoom:67%;" /></p>
<p>DC读入设计时候，可以通过以下命令查看这些对象：</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs tcl">get_ports,_pins,_designs,_cells,_nets,_clocks<br>all_inputs,_outputs,_clocks,_registers<br><br><span class="hljs-keyword">set</span> pci_ports [get_ports “Y??M Z*”]<br>echo <span class="hljs-variable">$pci_ports</span><br><br>query_objects <span class="hljs-variable">$pci_ports</span><br>sizeof_collection <span class="hljs-variable">$pci_ports</span><br><br><span class="hljs-keyword">set</span> pci_ports [add_to_collection <span class="hljs-variable">$pci_ports</span> [get_ports CTRL*]]<br><span class="hljs-keyword">set</span> all_input_except_clk [remove_from _collection [all_inputs] [get_ports CLK]]<br><br>filter_collection [get_cells *] “ref_name=~AN*”<br>get_cells * -filter “don’t_touch == true”<br><br>list_attributes -application -class &lt;object_type&gt;<br></code></pre></td></tr></table></figure>
<p>Query：访问某一个对象， Sizeof:查某一个（对象）集合的大小。</p>
<p>对象具有某些属性，比如：
　　端口（port）的属性有：方向、驱动单元、负载、最大电容约束等
　　单元（cell）的属性有：层次化、不触碰 等 　　时钟的属性有：周期、抖动
等</p>
<p>写约束，就是对设计对象的属性进行约束。</p>
<h2 id="designware库">1.4DesignWare库</h2>
<p>DesignWare是Synopsys提供的知识产权（Intellectual
Property，简称IP）库。IP库分成可综合IP库（Synthesizable
IP，SIP），验证IP库（Verification IP，VIP）和生产厂家库（Foundry
Libraries）。</p>
<p>DesignWare所有的IP都是事先验证过的、可重复使用的、参数化的、可综合的，并且不受工艺的约束。使用该IP库我们可以设计得更快，设计的质量更高，增加设计的生产力和设计的可重复使用性，减少设计的风险和技术的风险。对于每个运算符号，一般地说DesignWare库中会有多个结构（算法）来完成该运算。这样就允许DC在优化过程中评估速度/面积的折衷，选择最好的实现结果。对于一个给定的功能，如果有多个DesignWare的电路可以实现它，Design
Compiler将会选择能最好满足设计约束的电路。此外使用DesignWare中的DW
Foundation库是需要许可证(license)的，DW
Foundation库提供了更好的设计质量（Quality of Result）。</p>
<p>Design
Compile<strong>自动选择和优化算术器件</strong>。对于算术运算，我们并不需要在DC中指定标准的（基本的）综合库standard.sldb。标准的综合库standard.sldb包含内置的HDL运算符号，综合时DC会自动使用这个库。如果我们要使用性能更高的额外的IP库，例如DW_
foundation.sldb，我们就必须指定这些库，如下所示：</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs tcl"><span class="hljs-comment">#Specify for use during optimization</span><br><span class="hljs-keyword">set</span> synthetic_library dw_foundation.sldb<br><br><span class="hljs-comment">#Specify for cell resolution during link</span><br><span class="hljs-keyword">lappend</span> link_library <span class="hljs-variable">$synthetic_library</span><br></code></pre></td></tr></table></figure>
<h2
id="线负载模式wire-load-mode和拓扑模式topographical-mode">1.4线负载模式(wire
load mode)和拓扑模式(topographical mode)</h2>
<p>基本所有深亚微米项目都使用拓扑模式而不是wire load mode</p>
<h3 id="什么是wire-load-model">什么是wire load model？</h3>
<p>wire load model是十分经典基础的线负载模型，
由半导体厂商根据自身工艺特点开发的，该模型包含<strong>单位长度面积因子</strong>、<strong>电容</strong>、<strong>电阻</strong>和<strong>扇出与线长查找表</strong>。在RTL代码综合阶段进行静态时序分析时，工艺库里面提供了标准单元的延时和功耗信息，但是互联线仍没有物理信息，这时就通过线负载模型来估算物理实现后的线负载大小，这种模型简单来说就是根据扇出预估连线长度，再根据连线长度来进行线上电阻、电容和面积等参数预估。下图为工艺库中截选的两个wire
loadmodel，名字分别为w120，和w140。</p>
<figure>
<img src="SynopsysEDA.assets/kxcokn_thumb.png" alt="kxcokn_thumb" />
<figcaption aria-hidden="true">kxcokn_thumb</figcaption>
</figure>
<p>一条扇出为n的互联线，使用w120模型计算：</p>
<ul>
<li><p>互联线长度 = 扇出1对应的互联线长度+（n-1）x slope = 133.334
+（3-1）x 133.334</p></li>
<li><p>互联线电容 = 互联线长度 x 互联线单位电容值= 1.5e-4
x互联线长度</p></li>
<li><p>互联线电阻 = 互联线长度 x 互联线单位电阻值= 8.5e-4 x
互联线长度</p></li>
<li><p>互联线面积 = 互联线长度 x 互联线单位长度面积值= 0.7 x
互联线长度</p></li>
</ul>
<p>​ wire load
mode是为跨层次互联线选择线负载模型的方法。对于多层次设计，不同层次的子设计可以与父设计有不同线负载模型，这时除了需要决定某一层次采用何种wire
load model，还需要确定对跨越不同层次的net采用何种wire load model。</p>
<p>Wire load
mode共有三种：<strong>TOP</strong>、<strong>enclosed</strong>
和<strong>segmented</strong>，例如design A和design
B间的互联线，在top模式下，选用50x50 model；在enclosed模式下，选用40x40
model；在segmented模式下，分段选用model。</p>
<p>使用set_wire_load_mode 命令明确声明使用何种模式；</p>
<p>使用set_wire_load_model命令明确声明了综合过程使用的线性负载模型。如果综合人员没有声明，那么DC会到逻辑库中寻找，如果该逻辑库支持自动根据面积来选择线性负载模型，那么DC采用这种自动匹配方式
(可以通过设置变量auto_wire_load_selecon值为false来关闭模型的自动选择功能），如果逻辑库不支持该方式，那么DC根据逻辑库中的默认参数default_wire_load_model和
default_wire_load_mode来设置。</p>
<h3 id="wire-load-model的局限性">wire load model的局限性</h3>
<p>wire load
model是通过扇出来估算线上参数的方法，只要连接数目确定，那么预估的互联线上的物理参数就确定了。<strong>可能线1和线2
扇出相同，但线长其实差距很大</strong>，这样线上延时和功耗差距其实很大，但是wire
load model给出的结果却是相同的。</p>
<p>精确性要求高的时序收敛，不再采用wire load mode，采用拓扑模式；</p>
<p>精确度要求不那么严格的、辅助性的分析工具，则可采用反推wire load
model的方法。比如Synopsys公司的SpyGlass
Power，一款用来预估功耗和分析功耗的工具，就是从.v网表和.spef
(后端给出的包含物理参数的文件)中，反推wire load
model，然后再采用上文提到的第三种模式segment
mode来对跨层互联应用wireload model，以此达到校准效果，提升精确性。</p>
<h2 id="command">1.5Command</h2>
<p><strong>所有命令均可以使用man进行查询</strong></p>
<h3 id="启动-dc">启动 DC</h3>
<p>DC在启动时会自动在启动目录下创建“command.log”和“view_command.log”两个文件，用于记录用户在使用DC时所执行的命令及设置的参数。还会创建“filenames.log”，用于记录DC访问过的目录，包括库、源文件等，退出DC时会被自动删除。启动dc_shell只产生“command.log”日志文件。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash">dc_shell   <span class="hljs-comment">#命令行</span><br>dc_shell -f syn.tcl | <span class="hljs-built_in">tee</span> -i syn.log <span class="hljs-comment">#批量模式(batch mode)</span><br>design_analyzer <span class="hljs-comment">#图形，基于dc_shell</span><br>dc_shell_t <span class="hljs-comment">#命令行</span><br>  <span class="hljs-comment"># 以tcl为基础；</span><br>  <span class="hljs-comment"># 在该脚本语言上扩展了实现DC的命令；</span><br>  <span class="hljs-comment"># 也可直接调用tcl脚本“dc_shell_t -f script”来执行。 `推荐`</span><br>design_vision <span class="hljs-comment">#图形，基于tcl</span><br><span class="hljs-built_in">source</span> dc.tcl  <span class="hljs-comment">#启动后可以运行tcl脚本</span><br></code></pre></td></tr></table></figure>
<h3
id="读取verilog设置顶层设置路径">读取verilog，设置顶层，设置路径</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">read_verilog xxx.v<br>current_design TOP <span class="hljs-comment">#设置最顶层的模块</span><br>set_app_var search_path <span class="hljs-string">&quot;<span class="hljs-variable">$search_path</span> ./rtl&quot;</span><br></code></pre></td></tr></table></figure>
<p><strong>Search Path</strong>: 当在Link
Library中无法找到某些模块时，DC会在Search
Path下的库中自动找对应的模块。比如Synopsis的DesignWare中的库就缺省包含在了Search
Path下，这也就是为什么一般不需要手动设置Synthetic
Library的原因。在Verilog源文件中，如果找不到include的文件，也会在Search
Path下寻找。<strong>DC在search_path指定的目录底下寻找设计代码和库文件。</strong></p>
<h3 id="建立库">建立库</h3>
<ul>
<li><p><strong>Target Library</strong>：
由厂商提供，后缀一般为".db"，Verilog文件映射为门级网表的时候，就在里面查找标准单元。</p></li>
<li><p><strong>Link
Library</strong>：并非所有Verilog代码都可以转化为Target
Library中的标准单元（比如PLL，编译好的RAM），这就需要告诉DC这些东西在那些库里。</p></li>
</ul>
<p><code>dw_foundation.sldb</code>是在你的设计中使用了Synopsys
DesignWare提供的IP时，方便DC找到相应的IP，否则link会报错</p>
<ul>
<li><strong>Symbol
Library</strong>：标准单元在电脑上显示的“图标”，一般后缀为“.sdb”。</li>
<li><strong>Synthetic
Library</strong>：Synopsis内部集成了很多可以复用的逻辑，比如+, -, *,
&lt;, &gt;, &lt;=,
&gt;=这些运算，并且可以根据不同的要求来选择不同的实现，比如选择Booth乘法器或者Wallace
Tree乘法器等等，一般这个库不用载入，DC会自动载入Synopsis的DesignWare。</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#target library(工艺库) </span><br>set_app_var target_library xxx.db<br><span class="hljs-built_in">set</span> target_library  xxx.db<br><br><span class="hljs-comment">#link library(链接库) </span><br>set_app_var link_library xxx.db<br>set_app_var link_library <span class="hljs-string">&quot;<span class="hljs-variable">$target_library</span>&quot;</span><br><span class="hljs-built_in">set</span> link_library   [ list * xxx.db Lib/dw_foundation.sldb]<br>	<span class="hljs-comment"># “*”号表示如果设计中某个模块找不到对应的库，那么就现在DC内存中搜索</span><br><span class="hljs-built_in">set</span> symbol_library  <span class="hljs-string">&quot;xxx/xxx.sdb&quot;</span><br></code></pre></td></tr></table></figure>
<p>gtech.db和standard.db是synopsys提供的默认库，分别包含了GTECH逻辑单元和基本的DesignWare
IP模块。在使用read命令时，这些库都被自动地加载。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">elaborate design_name<br>      [-library library_name | -work library_name]<br>      [-architecture arch_name]<br>      [-parameters param_list]<br>      [-file_parameters file_list]<br>      [-update]<br>      [-ref]<br></code></pre></td></tr></table></figure>
<h3 id="时钟约束">时钟约束</h3>
<h4 id="creat_clock">creat_clock</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">create_clock -period 2 [get_ports CLK] <span class="hljs-comment">#clock period 2ns</span><br>creat_clock	-period	period_value		<span class="hljs-comment">#定义时钟周期，如-period 10</span><br>			[source_objects]			<span class="hljs-comment">#标识时钟源，如[get_ports A]</span><br>			[-name clock_name]			<span class="hljs-comment">#命名时钟，如-name CLK</span><br>			[-waveform edge_list]		<span class="hljs-comment">#指定占空比，如-waveform &#123;0 5&#125;</span><br>			[-add]						<span class="hljs-comment">#多源时钟，加此开关且各源时钟不同名</span><br>			[-comment comment_string]	<span class="hljs-comment">#注释时钟，字符串纪录时钟信号文档信息</span><br></code></pre></td></tr></table></figure>
<h4
id="creat_generated_clock时钟分频或倍频">creat_generated_clock（时钟分频或倍频）</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs bash">creat_generated_clock	<br>  <span class="hljs-comment">#定义生成时钟的源对象，即生成时钟的引脚，如[get_pins FF1/Q]</span><br>  [source_objects]		<br><br>  <span class="hljs-comment">#定义生成时钟的源时钟的引脚，如-source [get_ports CLK]</span><br>  -<span class="hljs-built_in">source</span> clock_source_pin		<br><br>  <span class="hljs-comment">#多源时钟复用于一个源时钟的引脚CLK，需指明当前源时钟	</span><br>  <span class="hljs-comment">#如源时钟C1与C2复用得到生成时钟GC1与GC2，需分别定义GC1与GC2</span><br>  <span class="hljs-comment">#其中定义GC1加入开关-master_clock C1，定义GC2加入开关-master_clock C2</span><br>  [-master_clock master_clock_name]	<br><br>  <span class="hljs-comment">#生成时钟命名，如-name GCLK1</span><br>  [-name generated_clock_name]		<br><br>  <span class="hljs-comment">#生成时钟特性，生成时钟的上升-下降-上升沿对应的源时钟边沿序号，为奇数个整数</span><br>  <span class="hljs-comment">#如-edges &#123;1 3 5&#125;，表示二分频的时钟特性</span><br>  <span class="hljs-comment">#即生成时钟在源时钟第1个边沿处上升，第3个边沿处下降，第5个边沿处上升</span><br>  [-edges edge_list]			<br><br>  <span class="hljs-comment">#生成时钟特性，时钟分频因子，如二分频-divide_by 2	</span><br>  [-divide_by <span class="hljs-built_in">factor</span>]				<br><br>  <span class="hljs-comment">#生成时钟特性，时钟倍频因子，如二倍频-multiply_by 2	</span><br>  [-multiply_by <span class="hljs-built_in">factor</span>]			<br><br>  <span class="hljs-comment">#使用分频或倍频时，生成时钟相位取反，用于定义D触发器的反向输出端时钟</span><br>  [-invert]	<br><br>  <span class="hljs-comment">#时钟沿位移，与-edges有相同数量的浮点数</span><br>  <span class="hljs-comment">#表明-edges中每个边沿的超前或滞后情况</span><br>  <span class="hljs-comment">#如-edge_shift &#123;0 2 0&#125;，其中的单位为ns</span><br>  <span class="hljs-comment">#表示生成时钟的第1个与第2个上升沿无位移，第1个下降沿滞后2ns				</span><br>  [-edge_shift shift_list]<br><br>  <span class="hljs-comment">#配合倍频使用，确定占空比，50表示占空比50%，如-duty_cycle 50</span><br>  [duty_cycle percent]		<br><br>  <span class="hljs-comment">#使能组合电路路径，源时钟引脚到生成时钟引脚的路径是纯组合电路时使用</span><br>  <span class="hljs-comment">#可以阻隔路径中的时序电路，组合电路始终有效</span><br>  [-combinational]<br><br>  <span class="hljs-comment">#多源时钟，除第一个源时钟外，其他源时钟需加此开关，否则会被最后一个源时钟覆盖</span><br>  <span class="hljs-comment">#各源时钟-name不同名</span><br>  [-add]<br><br>  <span class="hljs-comment">#注释时钟，字符串纪录时钟信号文档信息</span><br>  [-comment comment_string]<br></code></pre></td></tr></table></figure>
<h4 id="set_clock_group异步时钟域">set_clock_group（异步时钟域）</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs bash">creat_clock_groups	<br>  <span class="hljs-comment">#定义时钟组的名称</span><br>  [-name group_name]<br><br>  <span class="hljs-comment">#将不同的时钟分组，如将异步时钟C1与C2分入不同组为-group C1 -group C2</span><br>  [-group clock_list]<br><br>  <span class="hljs-comment">#各组之间的关系有以下三种：</span><br>  <span class="hljs-comment">#(1)逻辑独立，时钟组中各组互斥但具有耦合关系时，即各组时钟同时存在时使用</span><br>  <span class="hljs-comment">#与物理独立，异步互斥</span><br>  [-logically_exclusive]<br><br>  <span class="hljs-comment">#(2)物理独立，时钟组中各组时钟以多路复用实现，并不同时共存于电路网络中时使用</span><br>  <span class="hljs-comment">#与逻辑独立，异步互斥</span><br>  [-physically_exclusive]<br><br>  <span class="hljs-comment">#(3)异步，时钟不共享相位关系时使用</span><br>  <span class="hljs-comment">#与逻辑独立，物理独立互斥</span><br>  [-asynchronous]<br><br>  <span class="hljs-comment">#异步且希望执行串扰分析而不禁用时钟之间的时序电路路径时使用</span><br>  <span class="hljs-comment">#仅可与-asynchronous一起使用，用于信号完整性检查</span><br>  [-allow_paths]<br><br>  <span class="hljs-comment">#注释时钟组，字符串纪录时钟组信号文档信息</span><br>  [-comments comment_string]<br></code></pre></td></tr></table></figure>
<p>时钟分组建议：</p>
<ul>
<li>如果设计中共存多个时钟，却没有相位关系，则应在set_clock_group中设定-asynchronous</li>
<li>如果设计中共存多个时钟，并且电路仅选择其中一个，则应在set_clock_group中设定-logically_exclusive</li>
<li>如果设计中不能共存多个时钟，则应在set_clock_group中设定-physically_exclusive</li>
</ul>
<h4 id="set_clock_transition">set_clock_transition</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash">set_clock_transition -max 0.15 [get_ports CLK] <span class="hljs-comment">#CLK跳转最大时间为0.15ns</span><br>set_clock_transition<br>	[-rise]				<span class="hljs-comment">#上升沿过渡时间</span><br>	[-fall]				<span class="hljs-comment">#下降沿过渡时间</span><br>	[-max]				<span class="hljs-comment">#最大过渡时间</span><br>	[-min]				<span class="hljs-comment">#最小过渡时间</span><br>	clock_list			<span class="hljs-comment">#应用的时钟，如[get_clocks CLK]</span><br>	transition_time		<span class="hljs-comment">#过渡时间的数值，单位为ns</span><br>set_max_transition 0.5 sync_FIFO  <br></code></pre></td></tr></table></figure>
<h4
id="set_clock_uncertaintyskewjitter">set_clock_uncertainty（skew+jitter）</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs bash">set_clock_uncertainty -setup 0.3 [get_ports CLK] <span class="hljs-comment">#clock skew</span><br>set_clock_uncertainty<br>  <span class="hljs-comment">#两个异步时钟之间的不确定度</span><br>  [-from|-rise_from|-fall_from from_clock]<span class="hljs-comment">#交互时钟的起始边沿，如-from C1</span><br>  [-to|-rise_to|-fall_to to_clock]		<span class="hljs-comment">#交互时钟的结束边沿，如-to C2</span><br>  <span class="hljs-comment">#单个时钟内部时钟的不确定度</span><br>  [-setup]	<span class="hljs-comment">#建立时间不确定度</span><br>  [-hold]		<span class="hljs-comment">#保持时间不确定度</span><br>  [-rise]		<span class="hljs-comment">#上升沿时间不确定度</span><br>  [-fall]		<span class="hljs-comment">#下降沿时间不确定度</span><br>  [object_list]		<span class="hljs-comment">#时钟的源对象，如[get_clocks CLK]</span><br>  Uncertainty_value	<span class="hljs-comment">#不确定度的数值，单位ns</span><br></code></pre></td></tr></table></figure>
<h4
id="set_clock_latencysource-latencynetwork-latency">set_clock_latency（source
latency+network latency）</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs bash">set_clock_latency -max 0.7 [get_ports CLK] <span class="hljs-comment">#晶振到CLK端口所需最大时间为0.7ns</span><br>set_clock_latency<br>	[-rise]		<span class="hljs-comment">#上升沿的延迟</span><br>	[-fall]		<span class="hljs-comment">#下降沿的延迟</span><br>	[-min]		<span class="hljs-comment">#最小延迟</span><br>	[-max]		<span class="hljs-comment">#最大延迟</span><br>	[-<span class="hljs-built_in">source</span>]	<span class="hljs-comment">#片外时钟源至模块时钟端口间的延迟，如-source 0.5</span><br>				<span class="hljs-comment">#若关闭此开关，则表示模块时钟端口至触发器件之间的延时</span><br>	[-late]		<span class="hljs-comment">#片内时钟源至模块时钟端口的最长路径延迟，如-source -late 1.0</span><br>	[-early]	<span class="hljs-comment">#片内时钟源至模块时钟端口的最短路径延迟，如-source -early 0.5</span><br>	[-clock clock_list]	<span class="hljs-comment">#多个时钟通过一个模块端口的延迟，如-clock &#123;C1 C2&#125;</span><br>	delay		<span class="hljs-comment">#延迟的数值，单位为ns</span><br>	object_list	<span class="hljs-comment">#对引脚设定延迟，如[get_ports A]</span><br></code></pre></td></tr></table></figure>
<h4
id="set_clock_sense时钟敏感性非单边">set_clock_sense（时钟敏感性：非单边）</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs bash">set_clock_sense<br>  <span class="hljs-comment">#三个开关互斥</span><br>  <span class="hljs-comment">#-positive指示正单边</span><br>  <span class="hljs-comment">#-negative指示负单边</span><br>  <span class="hljs-comment">#-stop_propagation指示禁用部分时钟的传递</span><br>  [-positive|-negative|-stop_propagation]<br><br>  <span class="hljs-comment">#创建时钟脉冲，可选项为</span><br>  <span class="hljs-comment">#rise_triggered_high_pulse</span><br>  <span class="hljs-comment">#rise_triggered_low_pulse</span><br>  <span class="hljs-comment">#fall_triggered_high_pulse</span><br>  <span class="hljs-comment">#high_triggered_low_pulse</span><br>  <span class="hljs-comment">#如-pulse rise_triggered_high_pulse，表示时钟上升沿产生一个高电平的脉冲</span><br>  <span class="hljs-comment">#脉冲的宽度为|rise_latency - fall_latency|</span><br>  [-pulse pulse]		<br><br>  [-clock clock_list]	<span class="hljs-comment">#定义影响指定敏感性引脚的时钟源</span><br>  pin_list			<span class="hljs-comment">#需要指定敏感性的引脚，如[get_pins XOR/Z]</span><br></code></pre></td></tr></table></figure>
<h3 id="信号约束">信号约束</h3>
<h4 id="set_input_delay">set_input_delay</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs bash">set_input_delay<br>  [-clock clock_name]	<span class="hljs-comment">#指定参考时钟，如-clock CLK</span><br>  [-clock_fall]		<span class="hljs-comment">#参考时钟是下降沿触发时打开</span><br>  [-level_sensitive]	<span class="hljs-comment">#启动元器件为锁存器时使用，一般不用</span><br><br>  <span class="hljs-comment">#当模块输入端口信号上升沿和下降沿的输入到达时间不同</span><br>  <span class="hljs-comment">#使用-rise与-fall分别限定，但一般路径延迟相似，不会经常使用</span><br>  [-rise]				<br>  [-fall]<br>  [-max]			<span class="hljs-comment">#限定延迟值最大值，实现建立检查</span><br>  [-min]			<span class="hljs-comment">#限定延迟值最小值，实现保持检查</span><br>  [-add_delay]	<span class="hljs-comment">#同一个端口额外的延迟约束，则需使用，否则会被覆盖</span><br>  [-network_latency_included]	<span class="hljs-comment">#额外指定时钟network延迟，不常使用</span><br>  [-source_latency_included]	<span class="hljs-comment">#额外指定时钟source延迟，不常使用</span><br>  delay_value port_pin_list	<span class="hljs-comment">#延迟的数值，单位ns；定义输入的端口</span><br>set_input_delay -max 0.6 -clock CLK [get_ports A] //A端口数据到寄存器输入时延<br></code></pre></td></tr></table></figure>
<h4 id="set_output_delay">set_output_delay</h4>
<figure>
<img src="SynopsysEDA.assets/webp.webp" alt="img" />
<figcaption aria-hidden="true">img</figcaption>
</figure>
<figure>
<img src="SynopsysEDA.assets/webp-16681351791993.webp" alt="img" />
<figcaption aria-hidden="true">img</figcaption>
</figure>
<figure>
<img src="SynopsysEDA.assets/webp-16681352041766.webp" alt="img" />
<figcaption aria-hidden="true">img</figcaption>
</figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs bash">set_output_delay -max 0.8 -clock CLK [get_ports B] <span class="hljs-comment">#寄存器输出到B端口的时延  </span><br>set_output_delay<br>  [-clock clock_name]	<span class="hljs-comment">#指定参考时钟，如-clock CLK</span><br>  [-clock_fall]		<span class="hljs-comment">#参考时钟是下降沿触发时打开</span><br>  [-level_sensitive]	<span class="hljs-comment">#启动元器件为锁存器时使用，一般不用</span><br><br>  <span class="hljs-comment">#当模块输入端口信号上升沿和下降沿的输入到达时间不同</span><br>  <span class="hljs-comment">#使用-rise与-fall分别限定，但一般路径延迟相似，不会经常使用</span><br>  [-rise]<br>  [-fall]<br><br>  [-max]			<span class="hljs-comment">#限定延迟值最大值，实现建立检查		</span><br>  [-min]			<span class="hljs-comment">#限定延迟值最小值，实现保持检查</span><br>  [-add_delay]	<span class="hljs-comment">#同一个端口额外的延迟约束，则需使用，否则会被覆盖</span><br>  [-network_latency_included]	<span class="hljs-comment">#额外指定时钟network延迟，不常使用</span><br>  [-source_latency_included]	<span class="hljs-comment">#额外指定时钟source延迟，不常使用</span><br>  delay_value port_pin_list	<span class="hljs-comment">#延迟的数值，单位ns；定义输出的端口</span><br></code></pre></td></tr></table></figure>
<h4 id="set_drive驱动电阻">set_drive（驱动电阻）</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">set_drive	<br>	[-rise][-fall]		<span class="hljs-comment">#指定驱动信号的上升或下降沿</span><br>	[-min][-max]		<span class="hljs-comment">#指定驱动电阻的最小或最大值，小电阻驱动能力大，过渡快</span><br>	resistance_value	<span class="hljs-comment">#指定驱动电阻的数值</span><br>	port_list			<span class="hljs-comment">#指定驱动目标的输入端口</span><br></code></pre></td></tr></table></figure>
<h4 id="set_driving_cell驱动单元">set_driving_cell（驱动单元）</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs bash">set_driving_cell	<br>	[-lib_cell lib_cell_name]		<span class="hljs-comment">#指定模块的驱动单元，如-lib_cell FA</span><br>	[-rise][-fall]		<span class="hljs-comment">#指定驱动信号的上升或下降沿</span><br>	[-min][-max]		<span class="hljs-comment">#指定最强或最弱驱动单元合集</span><br>	[-library lib_name]		 <span class="hljs-comment">#指定驱动单元所在的库</span><br>	[-pin pin_name]			 <span class="hljs-comment">#指定驱动单元用于驱动的输出引脚</span><br>	[-from_pin from_pin_name]<span class="hljs-comment">#指定驱动单元输入引脚,不同输入,输出过渡时间不同</span><br>	[-multiply_by <span class="hljs-built_in">factor</span>]			<span class="hljs-comment">#过渡时间的倍乘因子，多驱动目标时驱动下降</span><br>	[-dout_scale]					<span class="hljs-comment">#电气特性扩展与降额，不使用时需使能此开关</span><br>	[-no_design_rule]				<span class="hljs-comment">#防止驱动引脚设计规则转移到目标输入端口</span><br>	[-clock clock_name]				<span class="hljs-comment">#指定驱动单元目标端口的时钟</span><br>	[-clock_fall]					<span class="hljs-comment">#表示时钟下降沿驱动</span><br>	[-input_transition_rise rise_time]	<span class="hljs-comment">#输入上升过渡时间</span><br>	[-input_transition_fall fall_time]	<span class="hljs-comment">#输入下降过渡时间</span><br>	port_list						<span class="hljs-comment">#被驱动的输入端口</span><br></code></pre></td></tr></table></figure>
<p>常用选项是指定驱动单元的名称和驱动单元的端口，其他不常用。通过<code>set_drive</code>和<code>set_driving_cell</code>可以计算出过渡时间，但也可以通过<code>set_input_transition</code>指定过渡时间。</p>
<h4
id="set_input_transition输入过渡">set_input_transition（输入过渡）</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">set_input_transition 0.12 [get_ports A] //输入端口A的电平跳变时间0.12ns<br>set_input_transition<br>	[-rise][-fall]			<span class="hljs-comment">#指定驱动信号的上升或下降沿</span><br>	[-min][-max]			<span class="hljs-comment">#指定最小或最大过渡时间</span><br>	[-clock clock_name]		<span class="hljs-comment">#指定时钟</span><br>	[-clock_fall]			<span class="hljs-comment">#表示时钟下降沿驱动</span><br>	transition port_list	<span class="hljs-comment">#指定约束的端口</span><br></code></pre></td></tr></table></figure>
<h4
id="set_port_fanout_number扇出数">set_port_fanout_number（扇出数）</h4>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs tcl">set_port_fanout_number<br>	value 			#指定扇出数<br>	port_list		#指定约束的端口<br>set_max_fanout <span class="hljs-number">4</span> sync_FIFO   #约束cell的最大扇出,扇出过大会使cell delay变慢<br></code></pre></td></tr></table></figure>
<h4 id="set_load负载">set_load（负载）</h4>
<p><code>set_load</code>指定负载的实际电容负载</p>
<p><code>set_fanout_load</code>是根据标准负载指定负载值</p>
<p>电容负载=标准负载×单个标准负载的电容负载</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">set_load [<span class="hljs-built_in">expr</span>&#123;30.0/1000&#125;] [get_ports B]<br>set_load<br>	[-min][-max]			<span class="hljs-comment">#指定最小或最大负载</span><br>	[-subtract_pin_load]	<span class="hljs-comment">#标注净电容负载时，需要打开避免与后端输入负载重复</span><br>	[-pin_load]				<span class="hljs-comment">#指定引脚负载</span><br>	[-wire_load]			<span class="hljs-comment">#指定线路负载</span><br>	value 					  <span class="hljs-comment">#指定负载值</span><br>	objects					  <span class="hljs-comment">#指定约束的端口</span><br></code></pre></td></tr></table></figure>
<h3 id="其他约束">其他约束</h3>
<h4
id="set_operating_conditions指定工作条件">set_operating_conditions（指定工作条件）</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash">set_operating_conditions<br>	[-library lib_name]		<span class="hljs-comment">#指定工艺库</span><br>	[-analysis_type]		<span class="hljs-comment">#应执行的分析类型，最慢，最快，基于芯片变异性的延迟</span><br>	[-max max_condition]	<span class="hljs-comment">#该工作点应考虑执行最慢的分析，如-max WCMIL</span><br>	[-min min_condition]	<span class="hljs-comment">#该工作点应考虑执行最快的分析，如-min BCIND</span><br>	[-max_library max_lib]	<span class="hljs-comment">#指定最慢的库</span><br>	[-min_library min_lib]	<span class="hljs-comment">#指定最快的库</span><br>	[-object_list objects]	<span class="hljs-comment">#设计对象，通常为整个设计，故很少使用</span><br>	[condition]				<span class="hljs-comment">#工作条件</span><br></code></pre></td></tr></table></figure>
<h4 id="set_units指定单位标识">set_units（指定单位标识）</h4>
<p>该命令仅作为表示用户意图的文档，工具会检查正在使用的库中单位，并标记库中单位与命令指定单位是否存在不匹配。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">set_units<br>	-capacitance cap_unit<br>	-resistance res_unit<br>	-time time_unit<br>	-voltage voltage_unit<br>	-current current_unit<br>	-power power_unit<br></code></pre></td></tr></table></figure>
<h4
id="current_instance指定当前设计或实例">current_instance（指定当前设计或实例）</h4>
<p>设计范围更改为current_design中的实例，但返回名称是相对于current_design的。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">current_instance [instance]<br></code></pre></td></tr></table></figure>
<h4
id="set_wire_load_model指定线负载模型">set_wire_load_model（指定线负载模型）</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">set_wire_load_model<br>	-name model_name	<span class="hljs-comment">#指定库中的模型，如WIRE_LOAD_70×70</span><br>	[-library lib_name]	<span class="hljs-comment">#指定库名称</span><br>	[-min][-max]		<span class="hljs-comment">#指定模型运用的条件，一般不用</span><br>	[object_list]		<span class="hljs-comment">#一般不用，而用current_design指定范围</span><br></code></pre></td></tr></table></figure>
<h4 id="set_max_area指定面积约束">set_max_area（指定面积约束）</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">set_max_area area_value<br>set_max_area 0  <span class="hljs-comment"># 让综合后的面积越小越好</span><br></code></pre></td></tr></table></figure>
<h4 id="set_voltage指定电压约束">set_voltage（指定电压约束）</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">set_voltage<br>	[-min min_case_value]				<span class="hljs-comment">#指定最小延迟对应的最大电压</span><br>	[-object_list list_of_power_nets]	<span class="hljs-comment">#指定电压下的电源网表</span><br>	max_case_voltage					<span class="hljs-comment">#指定最大延迟对应的最小电压</span><br></code></pre></td></tr></table></figure>
<h4
id="creat_voltage_area指定电压岛">creat_voltage_area（指定电压岛）</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">creat_voltage_area<br>	-name name							<span class="hljs-comment">#电压岛名称</span><br>	[-coordinates coordinate_list]		<span class="hljs-comment">#指定保持电压岛的矩形区域</span><br>	[-guard_band_x <span class="hljs-built_in">float</span>]				<span class="hljs-comment">#沿x轴距离，电压岛间缓冲区，不放单元</span><br>	[-guard_band_y <span class="hljs-built_in">float</span>]				<span class="hljs-comment">#沿y轴距离，电压岛间缓冲区，不放单元</span><br>	cell_list							<span class="hljs-comment">#电压岛中单元列表</span><br></code></pre></td></tr></table></figure>
<h4
id="set_level_shifter_strategythreshold指定电平移位器">set_level_shifter_strategy/threshold（指定电平移位器）</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#指定何时插入电平移位器的策略</span><br>set_level_shifter_strategy [-rule rule_type]<br><span class="hljs-comment">#指定插入电平移位器的最小电压差阈值</span><br>set_level_shifter_threshold [-voltage <span class="hljs-built_in">float</span>][-percent <span class="hljs-built_in">float</span>]<br></code></pre></td></tr></table></figure>
<h4
id="set_max_dynamicleakage_power指定动态静态功耗">set_max_dynamic/leakage_power（指定动态、静态功耗）</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#指定动态功耗最大值</span><br>set_max_dynamic_power power [unit]<br><br><span class="hljs-comment">#指定泄露功耗最大值</span><br>set_max_leakage_power power [unit]<br></code></pre></td></tr></table></figure>
<h3 id="编译">编译</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">compile<br>compile_utra<br>compile -exact_map //综合优化<br></code></pre></td></tr></table></figure>
<h3 id="输出信息">输出信息</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash">report_clock<br>report_timing &gt; ./timing.rpt<br>report_area &gt; ./area.rpt<br>report_constraint -all_violators &gt; ./constraint.rpt<br>report_qor<br>write_sdc xxx.sdc <span class="hljs-comment">#输出约束条件</span><br>write_sdf xxx.sdf <span class="hljs-comment">#输出时延信息</span><br>write_file -format verilog -output xxx_netlist.v <span class="hljs-comment">#输出网表文件</span><br>write -format verilog -hierarchy -output xxx_netlist.v<br>write_parasitics <span class="hljs-comment">#save parasitics in SPEF format or as a Tcl that contains set_load and set_resistance commands.</span><br></code></pre></td></tr></table></figure>
<p>​</p>
<p>SYNTAX status write_parasitics [-output file_name] [-format reduced]
[-min] [-ratio ratio_number] [-script]</p>
<p>Data Types file_name string ratio_number float</p>
<p>ARGUMENTS -output file_name Specifies the name of the output file to
which parasitics for the current design are written.</p>
<pre><code>          If you do not specify this option, the parasitics are written to
          a file named design_name.format_name, where design_name  is  the
          name of the current design.

   -format reduced
          Specifies to write the parasitics in reduced SPEF format.

   -min   Writes  parasitics  for  the  minimum  operating  condition.  By
          default, the parasitics are written for  the  maximum  operating
          conditions.

   -ratio ratio_number
          Specifies  the ratio used when writing the pie model description
          for every driver in the net.  The ratio specified by  this  com-
          mand  must  be  in the range 0.0 - 1.0.  By default, the nets in
          reduced format are generated with a ratio  equal  to  0.5.   The
          capacitor  closest  to the driver is 0.5 (the ratio value) times
          the total net capacitance in the pie model description.

   -script
          Writes out set_load and set_resistance commands  instead  of  an
          SPEF file.</code></pre>
<p>DESCRIPTION This command writes parasitics for the current design to
a disk file.</p>
<p>Multicorner-Multimode Support This command uses information from all
active scenarios.</p>
<p>在面积报告里面没有线网所消耗的面积，这是因为我们之前没有规定综合使用的线网模型，如果我们设置了wire_load那么最后的area报告里面也会有布线所花的面积。</p>
<h3 id="demo">demo</h3>
<p>link是Design Compiler ”resolve”设计中例化模块的过程。Design
Compiler通过变量“link_library”指定例化模块库的位置，和target_library一样，默认为your_library.db。建议显式地使用link命令，否则工具可能带着“unresolved
references”进行综合，产生没有意义的结果。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#############################读入并分析设计##################################</span><br>remove_design -all <span class="hljs-comment">#首先清理系统</span><br><br><span class="hljs-comment">#读入并分析Verilog文件，autoread会自动按照文件的依赖顺序逐个分析源文件，</span><br><span class="hljs-comment">#如果有错误analyze命令会报错，如果没有错误会生成中间文件。</span><br>analyze -format verilog  ../src/TMO_System.v -autoread &gt; ./log/analyze.rpt<br><br><span class="hljs-comment">#将analyze生成的中间文件转为technology-independent design (GTECH)</span><br><span class="hljs-comment">#要将顶层转化为最后的网表，就要将所有的模块都组合起来，这一过程即是Link</span><br><span class="hljs-comment">#elaborate命令会自动执行Link命令，如果再次执行Link命令，我看可以看到关于Link的报告</span><br>elaborate TMO_System<br><span class="hljs-built_in">link</span> &gt; ./log/link.rpt<br>current_design TMO_System <span class="hljs-comment">#确认在DC内存中，正在处理的是顶层TMO_System</span><br><br><span class="hljs-comment"># 如果设计中多次使用了同一个instance，那么在DC的内存中多个instance均指向一个模块</span><br><span class="hljs-comment"># 但是在电路中他们应该是多个独立的实体，uniquify命令的目的就是为这些instance都创造一个</span><br><span class="hljs-comment"># 新的模块使其指向它，这样，即使在Verilog源文件中，多个instance源自同一个module，</span><br><span class="hljs-comment"># 在DC中他们也会指向不同的module（内容一样，名字不一样）</span><br>uniquify &gt; ./log/uniquify.rpt<br>check_design &gt; ./log/check_RTL.rpt <span class="hljs-comment">#检查设计是否一致，要消除report中所有error</span><br>replace_synthetic &gt; ./log/replace_synthetic.rpt <span class="hljs-comment">#将设计中的运算符替换为DesignWare中的IP</span><br><br><span class="hljs-comment">#############################环境约束###################################</span><br>set_operating_conditions -min_library wcells -min BEST -max_library wcells -max WORST<br><span class="hljs-built_in">set</span> auto_wire_load_selection <span class="hljs-literal">true</span> <br>set_wire_load_mode enclosed<br><span class="hljs-comment"># 从库中找一个标准单元来驱动所有输入</span><br>set_driving_cell -lib_cell winv_1 -pin op [all_inputs]<br>set_load 3 [all_outputs]<br><br><span class="hljs-comment">#############################优化约束##################################</span><br><span class="hljs-comment">#### 时钟约束 ####</span><br>create_clock -name <span class="hljs-string">&quot;clock&quot;</span> -period 10 -waveform &#123;0 5&#125; [get_ports clk]<br>set_clock_latency            1    [get_clocks clock]<br>set_clock_transition         0.3  [get_clocks clock]<br>set_clock_uncertainty -setup 0.8  [get_clocks clock]<br>set_clock_uncertainty -hold  0.4  [get_clocks clock]<br>set_drive 0  [get_ports clock] <span class="hljs-comment">#默认时钟驱动能力无穷大</span><br><span class="hljs-comment">#为了防止在时钟路径上插入Buffer而恶化时序，所以对时钟网络设置Dont_touch_network属性</span><br><span class="hljs-built_in">set</span> dont_touch_network [ list clock ]<br><span class="hljs-built_in">set</span> all_inputs_in_domain [get_ports [list Pi_Value hsync vsync configure_addr configure_value write <span class="hljs-built_in">read</span>]]<br><span class="hljs-built_in">set</span> all_outputs_in_domain [get_ports [list configured_value toned_pixel TValid]]<br>set_input_delay  -max       2.5 -clock <span class="hljs-string">&quot;clock&quot;</span> <span class="hljs-variable">$all_inputs_in_domain</span>    <br>set_input_delay  -min       0.4 -clock <span class="hljs-string">&quot;clock&quot;</span> <span class="hljs-variable">$all_inputs_in_domain</span><br>set_output_delay -max       2.5 -clock <span class="hljs-string">&quot;clock&quot;</span> <span class="hljs-variable">$all_outputs_in_domain</span><br>set_output_delay -min       0.4 -clock <span class="hljs-string">&quot;clock&quot;</span> <span class="hljs-variable">$all_outputs_in_domain</span><br><br><br><span class="hljs-comment">#############################DRC约束##################################</span><br><span class="hljs-comment">#0.35先使用库中的默认值</span><br><span class="hljs-comment">#set_max_transition</span><br><span class="hljs-comment">#set_max_capacitance</span><br><span class="hljs-comment">#set_max_fanout</span><br><span class="hljs-comment">#set_max_delay</span><br><span class="hljs-comment">#set_min_delay</span><br><br><span class="hljs-comment">#############################生成Netlist###############################</span><br><span class="hljs-comment">#### One Pass Compilation ####</span><br>current_design TMO_System<br>compile_ultra -timing_high_effort_script  &gt; ./log/compile_pass1.rpt<br>set_auto_disable_drc_nets  -clock  <span class="hljs-literal">true</span>  -constant  <span class="hljs-literal">true</span><br><span class="hljs-built_in">set</span>  bus_inference_descending_sort   <span class="hljs-literal">true</span><br><span class="hljs-built_in">set</span>  bus_inference_style     %s\[%d\]<br><span class="hljs-built_in">set</span>  bus_naming_style        %s\[%d\]<br><span class="hljs-built_in">set</span>  verilogout_no_tri <span class="hljs-literal">true</span><br><span class="hljs-built_in">set</span>  verilogout_show_unconnected_pins <span class="hljs-literal">true</span><br>set_fix_multiple_port_nets  -all -buffer_constants<br>remove_unconnected_ports [get_cells -hier &#123;*&#125;]<br><span class="hljs-built_in">set</span>  change_names_dont_change_bus_members   <span class="hljs-literal">true</span><br>change_names  -hier   -rules   verilog<br><span class="hljs-comment">#change_names  -hier   -rules   lab_vlog</span><br><br><span class="hljs-comment">#### Two Pass Compilation ####</span><br>current_design TMO_System <br>compile_ultra -incremental  &gt; ./log/compile_incr.rpt<br><span class="hljs-built_in">set</span>  bus_inference_descending_sort   <span class="hljs-literal">true</span><br><span class="hljs-built_in">set</span>  bus_inference_style     %s\[%d\]<br><span class="hljs-built_in">set</span>  bus_naming_style        %s\[%d\]<br><span class="hljs-built_in">set</span>  verilogout_no_tri <span class="hljs-literal">true</span><br><span class="hljs-built_in">set</span>  verilogout_show_unconnected_pins <span class="hljs-literal">true</span><br>set_fix_multiple_port_nets  -all -buffer_constants<br>remove_unconnected_ports [get_cells -hier &#123;*&#125;]<br><span class="hljs-built_in">set</span>  change_names_dont_change_bus_members   <span class="hljs-literal">true</span><br>change_names  -hier   -rules   verilog<br><span class="hljs-comment">#Check Netlist</span><br>check_design &gt; ./log/check_netlist.rpt<br>current_design TMO_System<br>write -f verilog -h -output ./netlist/TMO_System_syn.v<br>write -f ddc -h -output ./unmapped/TMO_System.ddc<br>write_sdc  ./unmapped/TMO_System.sdc  -version 1.4<br><br><span class="hljs-comment">#get reports</span><br>report_timing -to [all_outputs]  -max_paths 5000 -nworst 5000 &gt; ./log/timing_max_output.rpt<br>report_timing -to [all_registers -data_pins]    -max_paths 5000 -nworst 5000 &gt; ./log/timing_max_register.rpt       <br>report_timing -to [all_outputs]                 -max_paths 5000 -nworst 5000  -delay min \<br>                                                &gt; ./log/timing_min_output.rpt<br>report_timing -to [all_registers -data_pins]  -max_paths 5000 -nworst 5000  -delay min \<br>                                              &gt; ./log/timing_min_register.rpt<br>report_area   &gt; ./log/area.rpt<br>report_power  &gt; ./log/power.rpt<br></code></pre></td></tr></table></figure>
<h1 id="第二章vcs">第二章：VCS</h1>
<h1 id="第三章primetime">第三章：PrimeTime</h1>
<ul>
<li><strong>PrimeTime PX</strong> for estimating the power
consumption</li>
</ul>
<h2 id="时序分析">3.1时序分析</h2>
<ul>
<li><p>动态时序分许：基于动态仿真的方法，既能够验证设计的功能，也能够验证设计的时序。</p></li>
<li><p>静态时序分许：通过提取整个电路的所有时序路径，检查建立时间和保持时间是否满足要求。分析执行速度快，不需要测试向量，适合进行大规模集成电路的验证，可节约大量时间。</p></li>
</ul>
<p>随着设计尺寸和复杂性的增加，动态仿真所需时间及工作量都难以承受，在设计流程中成为一个严重的瓶颈，促使时序分析技术从动态向静态迁移。并由此诞生了静态时序分析工具。</p>
<h2 id="pt命令">3.2PT命令</h2>
<p>PT的输入可以使db、Verilog、VHDL或EDIF格式的文件。</p>
<p>read_ db -netlist_ _only <design name> .db <figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs tcl">read_db -netlist_only &lt;design name&gt;.db  #db <span class="hljs-keyword">format</span><br>read_verilog &lt;design name&gt;.sv   #verilog <span class="hljs-keyword">format</span><br>read_vhdl &lt;design name&gt;.svhd    #vhdl <span class="hljs-keyword">format</span><br>read_edif &lt;design name&gt;.edf     #edif <span class="hljs-keyword">format</span><br><br><br>create_clock -period <span class="hljs-number">20</span> -waveform &#123;<span class="hljs-number">0</span> <span class="hljs-number">10</span>&#125; [<span class="hljs-keyword">list</span> CLK]  # 创建时钟<br>set_clock_latency <span class="hljs-number">2.5</span> [get_clocks CLK]<br>set_clock_transition <span class="hljs-number">0.2</span> [get_clocks CLK]<br><br><span class="hljs-comment">#插入时钟树之后布图工具通常接着要进行传播时钟，网表被带回PT进行STA</span><br><span class="hljs-comment">#时钟通过网表中的整个时钟树网络传播以确定时钟延迟。换言之，对通过时钟树中每个单元的延迟和单元间的互连线延迟都要加以考虑</span><br>set_propagated_clock [get_clocks CLK]<br>set_clock_uncertainty <span class="hljs-number">0.5</span> -from [get_clocks CLK1] -to [get_clocks CLK2]<br><br><span class="hljs-comment">#定义生成时钟与源时钟间的关系</span><br><span class="hljs-comment">#在布图后时序分析中，插入了时钟树并通过时钟树缓冲器传播时钟信号来计算时钟延迟。用户选择定义独立于时钟源的分频时钟（通过在分频逻辑子模块的输出引脚上定义时钟）。然而，这个方法迫使设计人员从时钟源到分频逻辑模块的时钟延迟手动添加从分频模块到设计的其余部分的时钟树延迟。通过下述命令建立分频时钟，则这两个时钟在布图前和布图后阶段都保持同步。</span><br>create_generated_clock -name &lt;divided <span class="hljs-keyword">clock</span> name&gt;<br>										 -<span class="hljs-keyword">source</span> &lt;primary <span class="hljs-keyword">clock</span> name&gt;<br>                       -divide_by &lt;value&gt;<br>                       &lt;pin name&gt;<br>                       <br><span class="hljs-comment"># PT允许对门控时钟指定建立/保持要求</span><br>set_clock_gating_check -setup &lt;value&gt;<br>										 -hold &lt;value&gt;<br>								     &lt;object <span class="hljs-keyword">list</span>&gt;<br><br></code></pre></td></tr></table></figure></p>
<h2 id="primetime-px">3.3PrimeTime PX</h2>
<p>PT如果进行功耗分析需要额外的PTPX的licence，可以通过命令打开：</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs tcl">set_app_var power_enable_analysis true #默认为false<br></code></pre></td></tr></table></figure>
<p><strong>在EDA工具的安装目录底下有Lab教程和相关设计文件</strong></p>
<figure>
<img src="SynopsysEDA.assets/Power%20Analysis%20Flow.png"
alt="Power Analysis Flow" />
<figcaption aria-hidden="true">Power Analysis Flow</figcaption>
</figure>
<p><strong>Power = Leakage Power + Dynamic Power(internal power and
switching power)</strong></p>
<p><strong>动态功耗</strong>：电容充放电引起的功耗、短路功耗。</p>
<p><strong>静态功耗</strong>：主要为泄露电流和亚阈值电流引起的功耗。</p>
<p>PTPX支持两种功耗分析模式： <strong>averaged
mode</strong>和<strong>time-based mode</strong>。</p>
<h3 id="命令">命令</h3>
<p><strong>Setting the Concurrent Multirail Power Analysis
Mode</strong></p>
<p>PTPX supports concurrent power analysis on multiple power rails. This
feature improves the performance because, a single run of the
update_power command analyzes multiplepower rails or power supply nets
in the UPF mode, simultaneously. The concurrent multirail power analysis
is supported in both averaged and time-based power analysis modes. When
you run the update_power command with this variable set to true, the
tool simultaneously updates all the valid power rails in the design.</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs tcl"><span class="hljs-keyword">set</span> power_enable_multi_rail_analysis true<br></code></pre></td></tr></table></figure>
<p><strong>Estimating Clock Network Power Consumption</strong></p>
<p>You can estimate the additional power incurred by a clock network
prior to its insertion. You enable this feature with the
estimate_clock_network_power command, which provides a more accurate
analysis of the total design power when clock network synthesis has not
yet been performed. Before issuing the estimate_clock_network_power
command, you must identify the design clocks.</p>
<p>If you want PrimeTime PX to consider clock-gating cells to be part of
the clock network, set the</p>
<p>power_clock_network_include_clock_gating_network</p>
<p>variable to true. The default value of this variable is false.</p>
<p>The estimate_clock_network_power command is supported only in the
averaged power analysis mode.</p>
<h3 id="averaged-power-analysis"><strong>Averaged Power
Analysis</strong></h3>
<p>For purely averaged power analysis, PrimeTime PX supports propagation
of switching activity based on <strong>defaults</strong>,
<strong>user-defined switching</strong>, or switching derived from an
<strong>HDL simulation</strong> (either RTL or gate level).</p>
<p>（1）有波形文件：最理想的情况是能提供后仿产生的VCD/SAIF文件，通过<strong>read_vcd</strong>/<strong>read_saif</strong>将真实的翻转率反标到Net上，然后通过<strong>report_switching_activity</strong>检查反标率，最后<strong>report_power</strong>报功耗值。</p>
<p>（2）人为设置翻转率：根据以往项目的经验值，通过<strong>set_switching_activity/set_case_analysis</strong>来设置register，clock
gate以及memory/blackbox的翻转率</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs tcl">reset_switching_activity # 重置之前设置的翻转率<br><br><span class="hljs-comment"># 设置register翻转率</span><br>set_switching_activity [get_pins -of_object [all_registers]] -toggle_rate <span class="hljs-number">0.5</span> -static_probability <span class="hljs-number">0.5</span> -base_clock * <br><span class="hljs-comment"># 设置blockboxs上的翻转率</span><br>set_switching_activity -type black_boxes -toggle_rate <span class="hljs-number">0.1</span> -static_probability <span class="hljs-number">0.5</span> -base_clock * -hierarchy <br>set_switching_activity -toggle_rate <span class="hljs-number">0.5</span> -static_probability <span class="hljs-number">0.5</span> -base_clock * [remove_from_collection [all_inputs] [get_port -filter <span class="hljs-string">&quot;is_clock_used_as_clock == true&quot;</span>]] # 设置Input上的翻转率<br>set_switching_activity [get_pins -of_object [get_cells -hierarchical * -filter <span class="hljs-string">&quot;ref_name =~ *ICG*&quot;</span>]] -toggle_rate <span class="hljs-number">0.5</span> -static_probability <span class="hljs-number">0.5</span> -base_clock * （设置<span class="hljs-keyword">clock</span> gate上的翻转率）<br>set_case_analysis <span class="hljs-number">1</span> [get_ports *reset*] # 使reset信号不翻转，准静态信号<br>set_switching_activity -toggle_rate <span class="hljs-number">0</span> -static_probability <span class="hljs-number">1</span> -base_clock * [get_port *reset*]<br></code></pre></td></tr></table></figure>
<p>（3）<strong>Vector-Free Power Analysis：</strong>使用默认翻转率</p>
<p>The default value of the static probability and toggle rate are 0.5
and 0.1. If required, you can change thedefault toggle rate. This usage
model is useful for quick power estimation.</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs tcl">set_app_var power_default_toggle_rate <span class="hljs-number">0.5</span> # 默认值为 <span class="hljs-number">0.1</span><br>set_app_var power_default_static_probability <span class="hljs-number">0.5</span> # 默认值为<span class="hljs-number">0.5</span><br>set_app_var power_default_toggle_rate_reference_clock fastest # 默认值related<br></code></pre></td></tr></table></figure>
<p>The following commands and variables affect the default togglerates
used by the tool:</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs tcl">create_clock<br><span class="hljs-keyword">set</span> power_default_toggle_rate<br><span class="hljs-keyword">set</span> power_default_static_probability<br><span class="hljs-keyword">set</span> power_default_toggle_rate_reference_clock<br>set_switching_activity<br>reset_switching_activity<br>set_case_analysis<br></code></pre></td></tr></table></figure>
<p>在PT中report_switching_activity会报出所有Nets的switching
activity来源的统计数据：</p>
<p><strong>From Activity File：</strong> The switching activity value is
from a SAIF or VCD file，
在read_vcd或者read_saif时要注意通过<strong>-stripe_path</strong>选项指定合适的hierarchical层次，否则activity反标不上。</p>
<p><strong>From SSA： </strong>The switching activity value set by using
the <strong>set_switching_activity</strong> command.</p>
<p><strong>From SCA ：</strong>The switching activity set by using the
<strong>set_case_analysis</strong> command.</p>
<p><strong>From clock ：</strong>The switching activity set by using the
create_clock command.</p>
<p><strong>Default：</strong>对于用户没有指定的翻转率的Net，使用默认的翻转率</p>
<p><strong>Propagated：</strong>The switching activity from
<strong>propagation engine</strong></p>
<p><strong>Implied：</strong>Switching activity from simple automatic
propagation of activity <strong>through buffers and
inverters</strong></p>
<p><strong>Not
Annotated：</strong>没有反标翻转率的Net，需要特别注意，一般要求在update_power或者report_power之后，这部分占比应该很低甚至为0，如果有大量没有翻转的Net，会影响report_power的准确率，可以通过以下命令打印出来分析：</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs tcl">report_switching_activity -list_not_annotated    <br>get_switching_activity ...<br></code></pre></td></tr></table></figure>
<h3 id="averaged-power-analysis-script">Averaged Power Analysis
Script</h3>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs tcl"><span class="hljs-comment"># Set the Power Analysis Mode</span><br><span class="hljs-keyword">set</span> power_enable_analysis TRUE<br><span class="hljs-keyword">set</span> power_analysis_mode averaged<br><br><span class="hljs-comment"># Read and link the Gate Level Netlist</span><br><span class="hljs-keyword">set</span> search_path <span class="hljs-string">&quot;../src/hdl/gate ../src/lib/snps . &quot;</span><br><span class="hljs-keyword">set</span> link_library <span class="hljs-string">&quot; * core_typ.db&quot;</span><br>read_verilog mac.vg<br>current_design mac<br>link<br><br><span class="hljs-comment"># Read SDC and set transition time or annotate parasitics</span><br>read_sdc ../src/hdl/gate/mac.sdc<br>set_disable_timing [get_lib_pins ssc_core_typ/*/G]<br>read_parasitics ../src/annotate/mac.spef.gz<br><br><span class="hljs-comment"># check, update, or report the timing</span><br>check_timing<br>update_timing<br>report_timing<br><br><span class="hljs-comment"># read switching activity file</span><br>read_vcd -strip_path tb/macinst ../sim/vcd.dump.gz<br>report_switching_activity -list_not_annotated<br><br><span class="hljs-comment"># check or update or report power</span><br>check_power<br>update_power<br>report_power -hierarchy<br></code></pre></td></tr></table></figure>
<h3 id="time-based-power-analysis"><strong>Time-based power
analysis</strong></h3>
<p>For extremely accurate analysis of power with respect to time,
PrimeTime PX supports analysis <strong>based on the RTL or gate-level
simulation activity over time</strong>.</p>
<p>PrimeTime PX uses an event-driven algorithm to calculate the
powerconsumption for each event. Detailed time-based power waveforms are
generatedto provide both average and peak power results. The tool can
produce an average and peak power report.</p>
<p>通过以下选项开启，在该模式下，需要提供VCD（<strong>注：SAIF文件不行</strong>）</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs tcl"><span class="hljs-keyword">set</span> power_enable_analysis TRUE<br><span class="hljs-keyword">set</span> power_analysis_mode time_based<br>set_app_var power_analysis_mode time_based # 默认为averaged<br></code></pre></td></tr></table></figure>
<p>time
based模式下工具会分析峰值功耗，生成功耗波形等图，执行完功耗分析之后，会在当前工作目录底下保存.fsdb波形文件</p>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs tcl">set_power_analysis_options -waveform_format fsdb -waveform_output [name]<br>nWave &amp;       # 使用nWave波形查看器查看波形文件<br></code></pre></td></tr></table></figure>
<h3 id="time-based-power-analysis-script">Time-based power analysis
Script</h3>
<figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs tcl"><span class="hljs-comment"># Set the Power Analysis Mode</span><br><span class="hljs-keyword">set</span> power_enable_analysis TRUE<br><span class="hljs-keyword">set</span> power_analysis_mode time_based<br><span class="hljs-comment">#set_power_analysis_options # 为功耗分析设置选项</span><br><span class="hljs-comment">#set_app_var power_limit_extrapolation_range true # 超过功耗查找表时，可以外推，默认是false</span><br><span class="hljs-comment">#set_app_var power_use_ccsp_pin_capacitance true；# 考虑弥勒效应，默认是false</span><br><br><span class="hljs-comment"># link design</span><br><span class="hljs-keyword">set</span> search_path <span class="hljs-string">&quot;../src/hdl/gate ../src/lib/snps . &quot;</span><br><span class="hljs-keyword">set</span> link_library <span class="hljs-string">&quot; *core_typ.db&quot;</span><br>read_verilog mac.vg<br>current_design mac<br>link<br><br><span class="hljs-comment"># set transition time/annotate parasitics</span><br>read_sdc ../src//hdl/gate/mac.sdc<br>set_disable_timing [get_lib_pins ssc_core_typ/*/G]<br>read_parasitics ../src/annotate/mac.spef.gz<br><br><span class="hljs-comment"># analyze timing</span><br>check_timing<br>update_timing # 更新时序关系<br>report_timing<br><br><span class="hljs-comment"># read switching activityfile</span><br>read_vcd ../sim/vcd.dump.gz \<br>  -strip_path tb/macinst<br><span class="hljs-comment"># read_vpd</span><br><span class="hljs-comment"># read_fsdb</span><br><span class="hljs-comment"># read_saif 用在平均功耗分析上</span><br><span class="hljs-comment"># set_switching_activity </span><br><span class="hljs-comment"># set_case_analysis </span><br><br><span class="hljs-comment"># analyze power</span><br>check_power # 检查会影响功耗准确性的错误，默认的检查内容由power_check_defaults定义<br>set_power_analysis_options \<br>  -waveform_format out \<br>  -waveform_output vcd<br>update_power # 进行功耗分析<br>report_power<br></code></pre></td></tr></table></figure>
<h3 id="required-files-descriptions"><strong>Required Files
descriptions</strong></h3>
<p><strong>逻辑库</strong>：单元库，包含所有单元的时序和功耗特性，db文件；</p>
<p><strong>spef文件</strong>：寄生参数文件；</p>
<ul>
<li><p><strong>Gate-Level
Netlist：</strong>verilog、vhdl，db、ddc、Milkyway格式的网表均可</p></li>
<li><p><strong>Technology Library</strong></p></li>
</ul>
<p>PTPX supports either CCS (composite current source) or NLPM
(nonlinear power model).</p>
<p>You use the power_model_preference nlpm | ccs variable to specify
your power model preference when the library contains both NLPM and CCS
data. The default is ccs.</p>
<ul>
<li><strong>SDC File</strong></li>
</ul>
<p>The SDC file contains the <strong>design constraints</strong>. The
driver cellinformation is used to calculate the transition time on the
primary inputs.</p>
<ul>
<li><p><strong>Parasitic File</strong></p></li>
<li><p><strong>Switching
Activity：</strong>vcd、vpd、fsdb、saif文件，或者命令设置</p></li>
</ul>
<p>In the averaged power analysis, you use either SAIF or VCD file
formats to read the switching activity. If you do not specify switching
activity information, the tool assumes certain default values for the
switching activity.</p>
<p>In time-based power analysis, you use VCD file formats to read the
switching activity.</p>
<p>When you read a SAIF file or an RTL VCD file for power estimation,
use the set_rtl_to_gate_name command to map the RTL and gate-level
object names. This command is especially necessary if you have performed
only the RTL simulation for generating the backward SAIF file. Because
the RTL object names can change after synthesis, the read_saif or
read_vcd command is not able to map the names present in the RTL SAIF or
VCD fileto the gate-level objects, which can result in inaccurate
results. You can avoid this by using the set_rtl_to_gate_name
command.</p>
<h2 id="vcdsaiffsdb的区别">3.4VCD，SAIF，FSDB的区别</h2>
<h4 id="vcdvaluevariable-change-dump">VCD：Value/Variable Change
Dump</h4>
<ul>
<li>It is an event-based format that contains every value change for the
signals in the design and the time at which they occurred.</li>
<li>VCD is supported in both the averaged and time-based analysis
modes，是国际标准格式</li>
<li>Gate-Level VCD和RTL-Level VCD都可以，但是使用RTL-Level
VCD时，需要进行name mapping (set_rtl_to_gate_name)。</li>
<li>VCD文件示例：http://en.wikipedia.org/wiki/Value_change_dump</li>
</ul>
<h4 id="saifswitching-activity-interface-format">SAIF：Switching
Activity Interface Format</h4>
<ul>
<li>It captures signal transitions and the time spent at each logic
level. The SAIF file contains the toggle counts and static probabilities
for the nets in the design.</li>
<li>SAIF is supported only in the averaged power analysis mode.</li>
<li>有些工具，比如ICC/ICC2，只支持SAIF文件，需要将VCD转换成SAIF文件，在PT安装目录下有一个utility：</li>
<li>vcd2saif -input vcd_file -output saif_file ...</li>
</ul>
<h4 id="fsdbfast-signal-databbase">FSDB：Fast Signal DataBbase</h4>
<ul>
<li>类似于VCD的波形文件，去除了VCD中的冗余信息，数据量小很多，提高了仿真的速度，Synopsys的仿真工具支持较多。</li>
</ul>
<h1 id="第四章icc-compiler">第四章：ICC Compiler</h1>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://zmailee.github.io">zmaiLee</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://zmailee.github.io/2022/11/10/SynopsysEDA/">https://zmailee.github.io/2022/11/10/SynopsysEDA/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://zmailee.github.io" target="_blank">Mai's blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/EDA/">EDA</a><a class="post-meta__tags" href="/tags/%E6%95%B0%E5%AD%97IC/">数字IC</a></div><div class="post_share"><div class="social-share" data-image="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/11/11/%E6%A2%85%E6%A3%AE%E8%9E%BA%E6%97%8B%E7%AE%97%E6%B3%95/" title="梅森旋转算法"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">梅森旋转算法</div></div></a></div><div class="next-post pull-right"><a href="/2022/11/09/IC%E5%90%8E%E7%AB%AF/" title="IC后端"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">IC后端</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2022/12/09/CadenceEDA/" title="CadenceEDA"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-12-09</div><div class="title">CadenceEDA</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">zmaiLee</div><div class="author-info__description">HUSTer19. ICdesign & Computer Architecture</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">18</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">22</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E7%AB%A0design-compiler%E4%BD%BF%E7%94%A8"><span class="toc-number">1.</span> <span class="toc-text">第一章：Design Compiler使用</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%BC%E5%90%88"><span class="toc-number">1.1.</span> <span class="toc-text">1.1综合</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E7%BB%BC%E5%90%88%E6%B5%81%E7%A8%8B"><span class="toc-number">1.2.</span> <span class="toc-text">1.2逻辑综合流程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%87%E5%87%86%E5%8D%95%E5%85%83%E5%BA%93"><span class="toc-number">1.3.</span> <span class="toc-text">1.3标准单元库</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#verilog%E4%B8%8Edc%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%AF%B9%E5%BA%94%E5%85%B3%E7%B3%BB"><span class="toc-number">1.3.1.</span> <span class="toc-text">Verilog与DC对象的对应关系</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#designware%E5%BA%93"><span class="toc-number">1.4.</span> <span class="toc-text">1.4DesignWare库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%BF%E8%B4%9F%E8%BD%BD%E6%A8%A1%E5%BC%8Fwire-load-mode%E5%92%8C%E6%8B%93%E6%89%91%E6%A8%A1%E5%BC%8Ftopographical-mode"><span class="toc-number">1.5.</span> <span class="toc-text">1.4线负载模式(wire
load mode)和拓扑模式(topographical mode)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFwire-load-model"><span class="toc-number">1.5.1.</span> <span class="toc-text">什么是wire load model？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#wire-load-model%E7%9A%84%E5%B1%80%E9%99%90%E6%80%A7"><span class="toc-number">1.5.2.</span> <span class="toc-text">wire load model的局限性</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#command"><span class="toc-number">1.6.</span> <span class="toc-text">1.5Command</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8-dc"><span class="toc-number">1.6.1.</span> <span class="toc-text">启动 DC</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%BB%E5%8F%96verilog%E8%AE%BE%E7%BD%AE%E9%A1%B6%E5%B1%82%E8%AE%BE%E7%BD%AE%E8%B7%AF%E5%BE%84"><span class="toc-number">1.6.2.</span> <span class="toc-text">读取verilog，设置顶层，设置路径</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BB%BA%E7%AB%8B%E5%BA%93"><span class="toc-number">1.6.3.</span> <span class="toc-text">建立库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%B6%E9%92%9F%E7%BA%A6%E6%9D%9F"><span class="toc-number">1.6.4.</span> <span class="toc-text">时钟约束</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#creat_clock"><span class="toc-number">1.6.4.1.</span> <span class="toc-text">creat_clock</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#creat_generated_clock%E6%97%B6%E9%92%9F%E5%88%86%E9%A2%91%E6%88%96%E5%80%8D%E9%A2%91"><span class="toc-number">1.6.4.2.</span> <span class="toc-text">creat_generated_clock（时钟分频或倍频）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#set_clock_group%E5%BC%82%E6%AD%A5%E6%97%B6%E9%92%9F%E5%9F%9F"><span class="toc-number">1.6.4.3.</span> <span class="toc-text">set_clock_group（异步时钟域）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#set_clock_transition"><span class="toc-number">1.6.4.4.</span> <span class="toc-text">set_clock_transition</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#set_clock_uncertaintyskewjitter"><span class="toc-number">1.6.4.5.</span> <span class="toc-text">set_clock_uncertainty（skew+jitter）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#set_clock_latencysource-latencynetwork-latency"><span class="toc-number">1.6.4.6.</span> <span class="toc-text">set_clock_latency（source
latency+network latency）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#set_clock_sense%E6%97%B6%E9%92%9F%E6%95%8F%E6%84%9F%E6%80%A7%E9%9D%9E%E5%8D%95%E8%BE%B9"><span class="toc-number">1.6.4.7.</span> <span class="toc-text">set_clock_sense（时钟敏感性：非单边）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%A1%E5%8F%B7%E7%BA%A6%E6%9D%9F"><span class="toc-number">1.6.5.</span> <span class="toc-text">信号约束</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#set_input_delay"><span class="toc-number">1.6.5.1.</span> <span class="toc-text">set_input_delay</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#set_output_delay"><span class="toc-number">1.6.5.2.</span> <span class="toc-text">set_output_delay</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#set_drive%E9%A9%B1%E5%8A%A8%E7%94%B5%E9%98%BB"><span class="toc-number">1.6.5.3.</span> <span class="toc-text">set_drive（驱动电阻）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#set_driving_cell%E9%A9%B1%E5%8A%A8%E5%8D%95%E5%85%83"><span class="toc-number">1.6.5.4.</span> <span class="toc-text">set_driving_cell（驱动单元）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#set_input_transition%E8%BE%93%E5%85%A5%E8%BF%87%E6%B8%A1"><span class="toc-number">1.6.5.5.</span> <span class="toc-text">set_input_transition（输入过渡）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#set_port_fanout_number%E6%89%87%E5%87%BA%E6%95%B0"><span class="toc-number">1.6.5.6.</span> <span class="toc-text">set_port_fanout_number（扇出数）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#set_load%E8%B4%9F%E8%BD%BD"><span class="toc-number">1.6.5.7.</span> <span class="toc-text">set_load（负载）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E7%BA%A6%E6%9D%9F"><span class="toc-number">1.6.6.</span> <span class="toc-text">其他约束</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#set_operating_conditions%E6%8C%87%E5%AE%9A%E5%B7%A5%E4%BD%9C%E6%9D%A1%E4%BB%B6"><span class="toc-number">1.6.6.1.</span> <span class="toc-text">set_operating_conditions（指定工作条件）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#set_units%E6%8C%87%E5%AE%9A%E5%8D%95%E4%BD%8D%E6%A0%87%E8%AF%86"><span class="toc-number">1.6.6.2.</span> <span class="toc-text">set_units（指定单位标识）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#current_instance%E6%8C%87%E5%AE%9A%E5%BD%93%E5%89%8D%E8%AE%BE%E8%AE%A1%E6%88%96%E5%AE%9E%E4%BE%8B"><span class="toc-number">1.6.6.3.</span> <span class="toc-text">current_instance（指定当前设计或实例）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#set_wire_load_model%E6%8C%87%E5%AE%9A%E7%BA%BF%E8%B4%9F%E8%BD%BD%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.6.6.4.</span> <span class="toc-text">set_wire_load_model（指定线负载模型）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#set_max_area%E6%8C%87%E5%AE%9A%E9%9D%A2%E7%A7%AF%E7%BA%A6%E6%9D%9F"><span class="toc-number">1.6.6.5.</span> <span class="toc-text">set_max_area（指定面积约束）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#set_voltage%E6%8C%87%E5%AE%9A%E7%94%B5%E5%8E%8B%E7%BA%A6%E6%9D%9F"><span class="toc-number">1.6.6.6.</span> <span class="toc-text">set_voltage（指定电压约束）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#creat_voltage_area%E6%8C%87%E5%AE%9A%E7%94%B5%E5%8E%8B%E5%B2%9B"><span class="toc-number">1.6.6.7.</span> <span class="toc-text">creat_voltage_area（指定电压岛）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#set_level_shifter_strategythreshold%E6%8C%87%E5%AE%9A%E7%94%B5%E5%B9%B3%E7%A7%BB%E4%BD%8D%E5%99%A8"><span class="toc-number">1.6.6.8.</span> <span class="toc-text">set_level_shifter_strategy&#x2F;threshold（指定电平移位器）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#set_max_dynamicleakage_power%E6%8C%87%E5%AE%9A%E5%8A%A8%E6%80%81%E9%9D%99%E6%80%81%E5%8A%9F%E8%80%97"><span class="toc-number">1.6.6.9.</span> <span class="toc-text">set_max_dynamic&#x2F;leakage_power（指定动态、静态功耗）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%96%E8%AF%91"><span class="toc-number">1.6.7.</span> <span class="toc-text">编译</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%87%BA%E4%BF%A1%E6%81%AF"><span class="toc-number">1.6.8.</span> <span class="toc-text">输出信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#demo"><span class="toc-number">1.6.9.</span> <span class="toc-text">demo</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E7%AB%A0vcs"><span class="toc-number">2.</span> <span class="toc-text">第二章：VCS</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E7%AB%A0primetime"><span class="toc-number">3.</span> <span class="toc-text">第三章：PrimeTime</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%B6%E5%BA%8F%E5%88%86%E6%9E%90"><span class="toc-number">3.1.</span> <span class="toc-text">3.1时序分析</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#pt%E5%91%BD%E4%BB%A4"><span class="toc-number">3.2.</span> <span class="toc-text">3.2PT命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#primetime-px"><span class="toc-number">3.3.</span> <span class="toc-text">3.3PrimeTime PX</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4"><span class="toc-number">3.3.1.</span> <span class="toc-text">命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#averaged-power-analysis"><span class="toc-number">3.3.2.</span> <span class="toc-text">Averaged Power
Analysis</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#averaged-power-analysis-script"><span class="toc-number">3.3.3.</span> <span class="toc-text">Averaged Power Analysis
Script</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#time-based-power-analysis"><span class="toc-number">3.3.4.</span> <span class="toc-text">Time-based power
analysis</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#time-based-power-analysis-script"><span class="toc-number">3.3.5.</span> <span class="toc-text">Time-based power analysis
Script</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#required-files-descriptions"><span class="toc-number">3.3.6.</span> <span class="toc-text">Required Files
descriptions</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#vcdsaiffsdb%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">3.4.</span> <span class="toc-text">3.4VCD，SAIF，FSDB的区别</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#vcdvaluevariable-change-dump"><span class="toc-number">3.4.0.1.</span> <span class="toc-text">VCD：Value&#x2F;Variable Change
Dump</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#saifswitching-activity-interface-format"><span class="toc-number">3.4.0.2.</span> <span class="toc-text">SAIF：Switching
Activity Interface Format</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#fsdbfast-signal-databbase"><span class="toc-number">3.4.0.3.</span> <span class="toc-text">FSDB：Fast Signal DataBbase</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E5%9B%9B%E7%AB%A0icc-compiler"><span class="toc-number">4.</span> <span class="toc-text">第四章：ICC Compiler</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/03/04/User%20Guide/" title="3D堆叠">3D堆叠</a><time datetime="2023-03-04T02:10:01.955Z" title="发表于 2023-03-04 10:10:01">2023-03-04</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/03/03/3D%E5%A0%86%E5%8F%A0/" title="3D堆叠">3D堆叠</a><time datetime="2023-03-03T07:17:23.252Z" title="发表于 2023-03-03 15:17:23">2023-03-03</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/03/02/Transformer/" title="Transformer">Transformer</a><time datetime="2023-03-02T01:38:40.575Z" title="发表于 2023-03-02 09:38:40">2023-03-02</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/12/12/SRAM%E8%AE%BE%E8%AE%A1/" title="SRAM设计">SRAM设计</a><time datetime="2022-12-12T14:57:04.669Z" title="发表于 2022-12-12 22:57:04">2022-12-12</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/12/11/%E7%89%88%E5%9B%BE/" title="版图">版图</a><time datetime="2022-12-11T12:13:51.445Z" title="发表于 2022-12-11 20:13:51">2022-12-11</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By zmaiLee</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><div class="moon-menu">
  <div class="moon-menu-items">
    
    <div id="moon-menu-item-back2bottom" class="moon-menu-item">
      <i class='fas fa-chevron-down'></i>    </div>
    
    <div id="moon-menu-item-back2top" class="moon-menu-item">
      <i class='fas fa-chevron-up'></i>    </div>
    
  </div>
  <div class="moon-menu-button">
    <svg class="moon-menu-bg">
      <circle class="moon-menu-cricle" cx="50%" cy="50%" r="44%"></circle>
      <circle class="moon-menu-border" cx="50%" cy="50%" r="48%"></circle>
    </svg>
    <div class="moon-menu-content">
      <div class="moon-menu-icon"><i class='fas fa-ellipsis-v'></i></div>
      <div class="moon-menu-text"></div>
    </div>
  </div>
</div><script src="/js/injector.js"></script></body></html>